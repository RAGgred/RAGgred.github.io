---
title: "Post-COVID Charity Segmentation: GMM & DBSCAN Analysis"
date: 2025-07-20 14:11:00 +0100
categories: [research]
tags: [research]
render_with_liquid: false
---


In this project, I explored the financial resilience of UK charities during and after COVID-19 by segmenting them into resilience archetypes using Gaussian Mixture Models (GMM) and DBSCAN clustering. The dataset consisted of over 200,000 financial records prepared for the UK Civil Society Almanac.

--- 
##  Full code 
 
 You can check out the full code used for this project [here.](https://github.com/RAGgred/RAGgred.github.io/blob/main/assets/projects/notebooks/statisticalmodelling.ipynb)

---
## 🧹 Data Preparation
Cleaned and standardised 200k+ charity-year records, removing duplicates and parsing fiscal year dates.
Derived key features for resilience analysis:
Shock: % change in income FY19 → FY20.
Bounce: % change FY20 → FY21.
Reserve ratio: reserves / income.
Income diversification index: Herfindahl score across income streams.
Standardised all features with StandardScaler to ensure comparability.

---
## 📊 Exploratory Data Analysis

Income Distribution: Capped at the 90th percentile to reveal mid-size charities without skew from mega-charities. Showed long-tail distribution of sector income.

Trends (2018–2022): Median incomes bounced back after 2020, but 90th percentile rose sharply — evidence of widening inequality.
Income vs Expenditure: Correlation ≈ 0.98 — most charities spend almost exactly what they earn, leaving little margin for shocks.
Volatility Analysis: Outliers included one-off grants (+4,035%) or asset sales. Found volatility is largely uncorrelated with COVID impact, highlighting it as a distinct risk dimension.

Reserves & Diversification: Kruskal–Wallis tests showed that highly diversified charities recovered significantly more than least-diversified groups, while reserve levels were inconsistent predictors of resilience.

---

## 🤖 Machine Learning Approach

### 1. Gaussian Mixture Models (GMM)
Tested multiple component counts (2–6) with both silhouette scores and Bayesian Information Criterion (BIC).
GMM captured extremes and flagged anomalies but tended to merge mid-range cases, producing one large “baseline” cluster with a few outliers.
Useful for probabilistic membership (soft clustering), but insufficient for nuanced resilience patterns.

### 2. DBSCAN
Applied with ε = 0.45 and min_samples = 25.
Surfaced density-based clusters reflecting actual resilience archetypes:
Cluster 0 (~6,200 charities): small shocks, moderate rebounds → diversified income + healthy reserves.
Cluster 1 (~44 charities): large windfalls in 2020, slight 2021 dips → time-limited emergency funding.
Cluster 2 (1 charity): +4,035% spike from a one-off capital grant.
Cluster 3 (2 charities): ~90% losses followed by +7,675% rebounds → rapid pivots or targeted grants.
Provided operationally meaningful archetypes, especially when cross-referenced with mission type (e.g., social services visible in all segments).

---

## 📈 Results & Insights

Identified four resilience profiles: “Dip & Rebound,” “Gain then Loss,” “Steady,” and “Persistent Impact.”
Sector inequality widened: larger charities bounced back faster, smaller ones lagged.
Diversified income strongly correlated with recovery; reserve levels were less predictive.
Mission types influenced outcomes: social services spread across all profiles, while arts and culture charities were overrepresented in “Persistent Impact.”

---

## 🧠 Key Learnings
Combining GMM + DBSCAN balances interpretability and probabilistic nuance.
Income diversification is a stronger predictor of resilience than reserves alone.
Volatility captures operational risk but does not map directly onto resilience.
Communicating findings with visuals (confusion matrices, cluster plots, resilience trajectories) is critical to ensuring uptake by non-technical audiences.

---

## 🚀 Next Steps
Explore hierarchical clustering to capture sector heterogeneity at multiple scales.
Apply feature engineering to integrate mission type, staff size, and geographic footprint.
Test automated hyperparameter tuning (e.g., Optuna) to refine cluster stability.
Share findings through dashboards for policymakers to support targeted recovery funding.
 ![MP3](https://RAGgred.github.io/assets/projects/images/roc.png)
